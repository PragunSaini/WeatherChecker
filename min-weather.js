const resBox=document.querySelector(".results"),searchBox=document.querySelector(".search"),btn=document.querySelector(".gobtn"),suggestionsBox=document.querySelector(".suggestions"),apiKey="d80b051bb7bf18027d13a11e1ef14f55";function insertRecord(e){const s=`\n        <div class='result'>\n            <span class="city">${e[0]}, ${e[1]}</span>\n            <span class='desc'>\n                <span class="desc">${e[2]}</span>\n                <img class="icon" src="${e[3]}" alt="?">\n            </span>\n            <span class="temp">Temperature : ${e[4]}°C</span>\n            <span class="min-temp">Min: ${e[5]}°C</span>\n            <span class="max-temp">Max: ${e[6]}°C</span>\n            <span class="pressure">Pressure: ${e[7]} hPa</span>\n            <span class="humidity">Humidity: ${e[8]} %</span>\n        </div>`;resBox.innerHTML=s+resBox.innerHTML}function getWeather(){const e=searchBox.value,s=searchBox.dataset.code;if(suggestionsBox.innerHTML="",searchBox.value="",e.trim().length>0){fetch(`https://api.openweathermap.org/data/2.5/weather?q=${e},${s}&units=metric&appid=${apiKey}`).then(e=>e.json()).then(e=>{let s=[];s.push(e.name),s.push(e.sys.country),s.push(e.weather[0].main),s.push(`http://openweathermap.org/img/w/${e.weather[0].icon}.png`),s.push(e.main.temp),s.push(e.main.temp_min),s.push(e.main.temp_max),s.push(e.main.pressure),s.push(e.main.humidity),insertRecord(s)}).catch(e=>{alert("Sorry, we can't fetch the data for that city")})}}btn.addEventListener("click",getWeather);